# Скрипт для симуляции выстрела пушки гаусса в FEMM

* Здесь представлен переработанный и "причёсанный" скрипт, взятый с сайта http://foar.ru
* Что такое пушка гаусса [расписано в вики](https://ru.wikipedia.org/wiki/%D0%9F%D1%83%D1%88%D0%BA%D0%B0_%D0%93%D0%B0%D1%83%D1%81%D1%81%D0%B0)
* Скрипт нужен для того, чтобы перед постройкой пушки гаусса оценить параметры катушки, 
  пули и конденсатора, а также подобрать оптимальные параметры.
* Скрипт умеет оптимизировать начальные параметры и находить такие при которых скорость выстрела выше

# Необходимое ПО

Всё что нужно для работы скрипта можно скачать по следующим ссылкам: 

* [Программа FEMM](https://www.femm.info/wiki/HomePage) - программа скачивается в разделе Download. Требуемая версия - 4.2. 
* [Скрипт для FEMM](https://github.com/art-den/femm-coilgun/raw/master/coilgun.lua) ("Сохранить как..." на ссылке) 
* [Файл настроек](https://github.com/art-den/femm-coilgun/raw/master/primer.txt) ("Сохранить как..." на ссылке)

# Подготовка

* Устанавливаем программу FEMM
* Записываем скрипт (coilgun.lua) и файл настроек (primer.txt) в один каталог

# Симуляция выстрела

Для начала надо отредактировать файл настроек под ваши параметры гаусса. Для этого открываем его в любом 
текстовом редакторе (например, блокноте). Файл выглядит следующим образом:

```
-- Конденсатор
conf.c       = 900	-- мкФ, ёмкость конденсатора
conf.u       = 450	-- Вольт, напряжение конденсатора
conf.r_cc    = 0	-- Ом, ESR конденсатора (0 - использовать расчётное значение, иначе - значение в оммах)

-- Катушка
conf.d_pr    = 0.65	-- мм, диаметр провода без изоляции
conf.l_kat   = 20	-- мм, длина катушки
...
```

* После коррекции значений сохраняем файл обратно на диск. 
* Затем запускаем FEMM и выбираем в нём пункт меню "Open Lua Script":
* И указываем имя файла настроек без расширения и нажимаем "Enter"

После чего начнётся процесс расчёта выстрела. В зависимости от мощности компьютера и значений, 
введённых в файле настроек, он может длится довольно долгое время. Так что наберитесь терпения. 
Если вы во время расчёта вдруг поняли, что ввели неправильные значения, то нажмите "Esc" 
на клавиатуре и процесс расчёта прервётся. Можно будет подредактирвоать файл настроек и начать 
всё заново.

Как только процесс расчёта закончится, программа выдаст сообщение о том, в какой файл были записаны 
результаты.


# Рекомендации

Если результат симуляции не устраивает, то можно поменять один или несколько параметров в файле настроек и запустить симуляцию заново или же воспользоваться возможностью оптимизации.
Обсуждение

Работу скрипта можно обсудить в следующих форумах: 
* http://future-weapons.ru/forum/ 
* http://www.offtop.ru/gauss2k/ 
* http://www.foar.ru

# Планы на будущее

    Улучшить алгоритм оптимизации
    Научить скрипт считать, а также оптимизировать параметры для многоступенчатого гаусса
